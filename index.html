<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rosaire</title>
    <script src="js/fullpage.js"></script>

    <link rel="stylesheet" href="css/fullpage.min.css">
    <link rel="stylesheet" href="css/main.css">

    <script type="module">
        import Chapelet from './js/src/chapelet.js';
        import Mystere from './js/src/mystere.js';
        import App from './js/src/app.js';

        const chapelets = [
            new Chapelet('joyeux', [
                new Mystere("L'annonciation", "L'ange Gabriel annonce à Marie qu'elle sera la mère du Sauveur.", [
                    'images/mysteries/joyeux/1-annonciation/annonciation-1.png',
                ]),
                new Mystere("La visitation", "Marie rend visite à sa cousine Élisabeth, qui attend Jean-Baptiste.", [
                    'images/mysteries/joyeux/2-visitation/Mariotto_albertinelli-visitation+Uffezi+Gallery+1503.jpeg',
                    'images/mysteries/joyeux/2-visitation/visitation-1.jpg',
                ]),
                new Mystere("La nativité", "Jésus naît dans une crèche à Bethléem.", [
                    'images/mysteries/joyeux/3-naissance-jesus/naissance-1.png#bottom+center',
                    'images/mysteries/joyeux/3-naissance-jesus/61b5ed3d9e247e3211cbf64b_bargers-Adoracion_de_los_pastores_.jpg',
                    'images/mysteries/joyeux/3-naissance-jesus/619e577f3a5796ae8b9fff16_jesus-nativite-noel-lieu-de-naissance.jpg',
                    'images/mysteries/joyeux/3-naissance-jesus/61b5ebdd97d4f942e56f46ba_Jules_Bastien-Lepage_-_The_Annunciation_to_the_Shepherds_-_Google_Art_Project.jpg#top+center',
                    'images/mysteries/joyeux/3-naissance-jesus/5fb288a8fdb370d80a3684be_2.jpg',
                ]),
                new Mystere("La présentation de Jésus au Temple", "Jésus est présenté au Temple conformément à la loi de Moïse.", [
                    'images/mysteries/joyeux/4-presentation/Presentation-Temple_Philippe-de-Champaigne_1648-scaled.jpg#top+center',
                    'images/mysteries/joyeux/4-presentation/1977.16_presentacion-nino-templo.jpg#center+center',
                    'images/mysteries/joyeux/4-presentation/ar19j03r.jpg',
                ]),
                new Mystere("Le recouvrement de Jésus au Temple", "À douze ans, Jésus est retrouvé dans le Temple après trois jours.", [
                    'images/mysteries/joyeux/5-jesus-retrouve/657341715c14ba40bb98487d_recouvrement-au-temple-de-jerusalem-jesus-parmi-les-docteurs-loi.webp',
                    'images/mysteries/joyeux/5-jesus-retrouve/657341d61d19732fb5dd7727_recouvrement-jesus-au-temple-de-jerusalem.webp',
                    'images/mysteries/joyeux/5-jesus-retrouve/21-1024x793.jpg',
                ]),
            ]),
            new Chapelet('lumineux', [
                new Mystere("Le baptême de Jésus", "Jésus est baptisé par Jean-Baptiste dans le Jourdain.", [
                    'images/mysteries/lumineux/1-bapteme/bapteme-1.png',
                ]),
                new Mystere("Les noces de Cana", "Jésus accomplit son premier miracle en changeant l'eau en vin.", [
                    'images/mysteries/lumineux/2-noces-cana/noces-de-cana-1.png',
                ]),
                new Mystere("L'annonce du Royaume", "Jésus prêche la bonne nouvelle du Royaume de Dieu et appelle les gens à la repentance.", [
                    'images/mysteries/lumineux/3-annonce-evangile/annonce-evangile.png',
                ]),
                new Mystere("La transfiguration", "Jésus se révèle dans sa gloire devant trois apôtres, en compagnie de Moïse et d'Élie.", [
                    'images/mysteries/lumineux/4-transfiguration/transfiguration-2.png',
                    'images/mysteries/lumineux/4-transfiguration/transfiguration-3.png',
                ]),
                new Mystere("L'institution de l'eucharistie", "Jésus institue l'Eucharistie lors de la Dernière Cène.", [
                    'images/mysteries/lumineux/5-eucharistie/luminous_mystery_eucharist_rosary_postcard-3136052526.jpg',
                ]),
            ]),
            new Chapelet('douloureux', [
                new Mystere("L'agonie de Jésus", "Jésus prie et souffre dans le jardin de Gethsémani."),
                new Mystere("La flagellation", "Jésus est fouetté sur ordre de Pilate."),
                new Mystere("Le couronnement d'épines", "Jésus est moqué et couronné d'épines."),
                new Mystere("Le portement de la croix", "Jésus porte sa croix jusqu'au Golgotha."),
                new Mystere("La crucifixion", "Jésus est cloué sur la croix et meurt pour nos péchés."),
            ]),
            new Chapelet('glorieux', [
                new Mystere("La résurrection", "Jésus ressuscite d'entre les morts au matin de Pâques.", [
                    'images/mysteries/glorieux/1-resurrection/resurrection.png#top+center',
                    'images/mysteries/glorieux/1-resurrection/62615742803d6c1665255c8c_Bible_resurrection_troisieme_jour.jpeg',
                    'images/mysteries/glorieux/1-resurrection/65ccc915e64c69eb350c8e89_Noel_Coypel_La_Resurection_du_Christ_bible_matin_de_Paques.webp#top+center',
                ]),
                new Mystere("L'ascension", "Jésus monte au ciel et s'assied à la droite du Père.", [
                    'images/mysteries/glorieux/2-ascension/63e502b9acb22f4bfedf9671_transfiguration-jesus-evangile-selon-saint-matthieu-bible.webp#top+center',
                    'images/mysteries/glorieux/2-ascension/628e47e85d93e6fb9cdb66db_Ascension_Jesus_dans_la_Bible.jpeg#top+center',
                    'images/mysteries/glorieux/3-saint-esprit-cenacle/629644f0ff924037fff9767e_Bible_Pentecote.jpeg#top+center',
                ]),
                new Mystere("La Pentecôte", "L'Esprit Saint descend sur les apôtres et Marie.", [
                    'images/mysteries/glorieux/3-saint-esprit-cenacle/6296447b80cbe92403ca8730_Pentecote_Bible.jpeg#top+center',
                    'images/mysteries/glorieux/3-saint-esprit-cenacle/629639237cf6f31470bbe49a_Fete_de_la_Pentecote_Bible.jpeg#top+center',
                    'images/mysteries/glorieux/3-saint-esprit-cenacle/629638670382c705d9ee7e62_Pentecote_signification_bible.jpeg#top+center',
                ]),
                new Mystere("L'assomption", "Marie est élevée au ciel, corps et âme.", [
                    'images/mysteries/glorieux/4-assomption/AssumptionoftheVirginVecellioTiziano151618SantaMariaGloriosadeiFrariVenice.jpg#top+center',
                ]),
                new Mystere("Le couronnement de Marie", "Marie est couronnée Reine du ciel et de la terre.", [
                    'images/mysteries/glorieux/5-marie-couronnee/Coronation_of_the_Virgin_Fra_Angelico_143435_Galleria_degli_Uffizi_Florence.jpg#top+center',
                    'images/mysteries/glorieux/5-marie-couronnee/couronnement-marie.jpg#top+center',
                ]),
            ]),
        ]

        let app;

        window.displayChapeletNavigation = function(e) {
            app.displayChapeletNavigation()
            return false;
        }

        window.hideChapeletNavigation = function(e) {
            app.hideChapeletsNavigation()
            return false;
        }

        window.addEventListener('DOMContentLoaded', () => {
            const container = document.querySelector('#fullpage')

            const queryString = window.location.search;
            let chapeletIndex = 1;

            if (queryString.length > 0) {
                const urlParams = new URLSearchParams(queryString);
                const chapeletParam = urlParams.get('c')
                if (parseInt(chapeletParam, 10) > 0 && parseInt(chapeletParam, 10) < chapelets.length + 1) {
                    chapeletIndex = parseInt(chapeletParam)
                }
            }

            app = new App(container, chapelets, chapeletIndex);
        })

    </script>
</head>
<body>
    <div id="fullpage">
        
    </div>
</body>
</html>